<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head>
	<title>Scelta Pacchetto Predefinito</title>
</h:head> 
<body>
	<f:metadata>
		<f:viewParam name="idPacchetto" binding="#{idPacchetto}" />
		<f:event listener="#{pacchetto.convertiPacchettoPredefinito(idPacchetto)}" type="preRenderView" />
	</f:metadata>
	<h:messages />
	<h:form>
		<h:outputText value="Nome: #{pacchetto.predefinito.nome}" /><br />
		
		<h:outputText for="part" value="Partecipanti: " />
		<h:inputText id="part" value="#{pacchetto.pacchetto.numPartecipanti}" />
		<h:message for="part"/><br />
		
		<h:outputText for="partenza" value="CittÃ  Partenza: " />
		<h:selectOneMenu id="partenza" value="#{pacchetto.pacchetto.citta.nome}">
			<f:selectItems value="#{pacchetto.predefinito.cittaPartenza}" var="citta" itemValue="#{citta.nome}" itemLabel="#{citta.nome}" />
		</h:selectOneMenu>
		<h:message for="partenza"/><br />	
		
		<h:outputText for="dataArrivo" value="Data Arrivo: " />
		<h:selectOneMenu id="dataArrivo" binding="#{dataArrivo}">
			<f:selectItems value="#{pacchetto.predefinito.datePartenza}" var="data" itemLabel="#{pacchetto.getData(data)}" itemValue="#{pacchetto.getData(data)}" />			
		</h:selectOneMenu>
		<h:message for="dataArrivo"/><br />		
		
		<h:outputText value="Durata: " />
		<h:selectOneMenu binding="#{durataText}">              
            <f:selectItems value="#{pacchetto.predefinito.durate}" />
        </h:selectOneMenu><br />		
		
		<h:outputText value="Hotel: #{pacchetto.predefinito.hotel.nome}" /><br />
		
		<h:commandButton value="salva" action="#{pacchetto.salvaPacchettoPredefinito(durataText.value, dataArrivo.value)}" />
	</h:form>
</body> 
</html>
