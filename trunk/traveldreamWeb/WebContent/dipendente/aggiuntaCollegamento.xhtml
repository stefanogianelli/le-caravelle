<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="templateDip.xhtml">

<ui:define name="title">Dettagli collegamento</ui:define>

<ui:define name="content">

<p><a href="#{facesContext.externalContext.getRequest().getHeader('referer')}">Indietro</a></p>

<h3>Seleziona il collegamento</h3>
	<f:metadata>
		<f:viewParam name="idPacchetto" binding="#{idPacchetto}" />
		<f:event listener="#{pacchettoPredefinito.getPacchetto(idPacchetto)}" type="preRenderView" />
		<f:event listener="#{collegamento.elencoCollegamentiDipendente(pacchettoPredefinito.pacchetto.cittaPartenza,pacchettoPredefinito.pacchetto.hotel.citta.nome)}" type="preRenderView" />
	</f:metadata>
	
	<h:form>
		<ui:repeat var="c" value="#{collegamento.elenco}">
			<div class="bloccoPaccVolo">
				<p>
					<h:outputText value="#{c.dataPartenza}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="Europe/Rome" />
					</h:outputText>		
				</p>
				<div class="volo">
					<div class="etichette">
						<ul>
							<li>Da</li>
							<li>A</li>
							<li>Partenza</li>
							<li>Arrivo</li>
							<li>Prezzo</li>
						</ul>
					</div>
					
					<div class="pulsantiVolo">
							<h:selectBooleanCheckbox styleClass="prova-button" value="#{c.selezionato}"/>
					
						<p>
							<h:commandLink value="Scegli" action="#{pacchettoPredefinito.aggiuntaCollegamento(idPacchetto,c)}" styleClass="detail-button" />			
						</p>
					</div>
					
					<div class="dati">
						<ul>
							<li>#{c.cittaPartenza.nome} #{c.origine}</li>
							<li>#{c.cittaArrivo.nome} #{c.destinazione}</li>
							<li>
								<h:outputText value="#{c.oraPartenza}">
									<f:convertDateTime pattern="HH:mm" timeZone="Europe/Rome" />
								</h:outputText>				
							</li>
							<li>
								<h:outputText value="#{c.oraArrivo}">
									<f:convertDateTime pattern="HH:mm" timeZone="Europe/Rome" />
								</h:outputText>						
							</li>
							<li>#{c.prezzo} â‚¬</li>
						</ul>
					</div>
				</div>
			</div>
		</ui:repeat>
		<div class="bloccoButtonBianco">
		<h:commandButton styleClass="search-button" value="Aggiungi collegamenti" action="#{pacchettoPredefinito.aggiuntaCollegamenti(idPacchetto, collegamento.elenco)}" />
		</div>
	</h:form>

</ui:define>
	
</ui:composition>
</html>
